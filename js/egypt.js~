var keyboard = Phaser.Keyboard;

state.egypt = function (game) {


};

state.egypt.prototype = {
    preload: function(){
	this.load.tilemap('map','assets/world.json',null,Phaser.Tilemap.TILED_JSON);
	this.load.image('tiles','assets/tiles/tiles3.png');
    },

    create: function(){
	this.physics.startSystem(Phaser.Phyiscs.ARCADE);
	//Importing tilemap tiles
	this.map = this.add.tilemap('map');
	this.map.addTilesetImage('tiles3','tiles');
	this.layer = this.map.createLayer('maze');
	
	//We use tile indexes 44, 55 and 66
	this.map.setCollisionBetween(44,66,true,'maze'); 
	
	//Spawning in the player, inherting from it's parent Game
	this.player = this.add.sprite(10,10); //Top left of maze
	this.physics.arcade.enable(this.player);
	this.player.body.bounce.y = 0.2;
	this.player.body.gravity.y = 400;
	this.player.body.collideWorldBounds = true;
	
	//Adding game camera
	this.camera.follow(this.player);
    },

    update: function(){
	this.physics.arcade.collide(this.player, this.layer);

    }

}
